<!DOCTYPE html>
<html>
<head>
    <title>CryptoBurger - –î–µ–º–æ –º–∞–≥–∞–∑–∏–Ω</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –°—Ç–∏–ª–∏ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 28px;
            margin: 0;
        }

        .menu {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .product {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .product img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .price {
            font-size: 20px;
            font-weight: bold;
            color: #FFD700;
            margin: 10px 0;
        }

        .buy-btn {
            background: #FF6B6B;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }

        .buy-btn:hover {
            background: #FF5252;
        }

        .cart {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .cart-item {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .total {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            color: #FFD700;
        }

        .payment-methods {
            display: grid;
            gap: 10px;
        }

        .pay-btn {
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
        }

        .pay-btn.bank {
            background: #4ECDC4;
            color: white;
        }

        .pay-btn.crypto {
            background: #FFD166;
            color: #333;
        }

        .receipt {
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .receipt h3 {
            text-align: center;
            margin-top: 0;
            color: #2E86AB;
        }

        .hidden {
            display: none;
        }

        .demo-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            display: inline-block;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <header>
            <h1>üçî CryptoBurger</h1>
            <p>–ü–µ—Ä–≤—ã–π –±—É—Ä–≥–µ—Ä —Å –∫—Ä–∏–ø—Ç–æ-–æ–ø–ª–∞—Ç–æ–π!</p>
            <div class="demo-badge">üéÆ –î–ï–ú–û-–†–ï–ñ–ò–ú</div>
        </header>

        <!-- –ú–µ–Ω—é –±—É—Ä–≥–µ—Ä–æ–≤ -->
        <div class="menu">
            <div class="product" data-id="1" data-price="5.99">
                <img src="https://via.placeholder.com/300x200/FF6B6B/white?text=CLASSIC+BURGER" alt="Classic Burger">
                <h3>Classic Burger</h3>
                <p>–ì–æ–≤—è–¥–∏–Ω–∞, —Å–∞–ª–∞—Ç, –ø–æ–º–∏–¥–æ—Ä, —Å–æ—É—Å</p>
                <div class="price">$5.99</div>
                <button class="buy-btn" onclick="addToCart(1)">üçî –í –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>

            <div class="product" data-id="2" data-price="7.99">
                <img src="https://via.placeholder.com/300x200/4ECDC4/white?text=CHEESE+BURGER" alt="Cheese Burger">
                <h3>Cheese Burger</h3>
                <p>–î–≤–æ–π–Ω–æ–π —Å—ã—Ä, –±–µ–∫–æ–Ω, –ª—É–∫–æ–≤—ã–µ –∫–æ–ª—å—Ü–∞</p>
                <div class="price">$7.99</div>
                <button class="buy-btn" onclick="addToCart(2)">üçî –í –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>

            <div class="product" data-id="3" data-price="9.99">
                <img src="https://via.placeholder.com/300x200/FFD166/white?text=CRYPTO+BURGER" alt="Crypto Burger">
                <h3>Crypto Burger</h3>
                <p>–≠–∫—Å–∫–ª—é–∑–∏–≤! –° –∞–≤–æ–∫–∞–¥–æ –∏ —Ç—Ä—é—Ñ–µ–ª–µ–º</p>
                <div class="price">$9.99</div>
                <button class="buy-btn" onclick="addToCart(3)">üçî –í –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
        </div>

        <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
        <div class="cart">
            <h3>üõí –í–∞—à –∑–∞–∫–∞–∑</h3>
            <div id="cart-items"></div>
            <div class="total">–ò—Ç–æ–≥–æ: $<span id="total">0.00</span></div>
            
            <!-- –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã -->
            <div class="payment-methods">
                <button class="pay-btn bank" onclick="payWithBank()">
                    üè¶ T-Bank Demo –æ–ø–ª–∞—Ç–∞
                </button>
                <button class="pay-btn crypto" onclick="payWithCrypto()">
                    ‚Çø Crypto Testnet –æ–ø–ª–∞—Ç–∞
                </button>
            </div>
        </div>

        <!-- –ß–µ–∫ -->
        <div id="receipt" class="receipt hidden">
            <h3>üìÑ –ß–µ–∫ –∑–∞–∫–∞–∑–∞</h3>
            <div id="receipt-content"></div>
        </div>
    </div>

    <script>
        // ================== –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê ==================
        let cart = [];
        let total = 0;
        const EXCHANGE_RATE = 91.5; // USDT/RUB

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        let tg = window.Telegram.WebApp;
        
        // –§—É–Ω–∫—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω—ã
        function addToCart(productId) {
            const product = document.querySelector(`[data-id="${productId}"]`);
            const price = parseFloat(product.dataset.price);
            const productName = product.querySelector('h3').textContent;
            
            cart.push({ 
                id: productId, 
                price: price,
                name: productName
            });
            total += price;
            
            updateCart();
            showNotification(`‚úÖ ${productName} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`);
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const totalElement = document.getElementById('total');
            
            cartItems.innerHTML = '';
            cart.forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                itemElement.innerHTML = `
                    ${item.name} - $${item.price}
                    <button onclick="removeFromCart(${index})" style="float: right; background: red; color: white; border: none; border-radius: 50%; width: 20px; height: 20px;">√ó</button>
                `;
                cartItems.appendChild(itemElement);
            });
            
            totalElement.textContent = total.toFixed(2);
        }

        function removeFromCart(index) {
            total -= cart[index].price;
            cart.splice(index, 1);
            updateCart();
        }

        // –§—É–Ω–∫—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã
        function payWithBank() {
            if (total === 0) {
                showNotification("‚ùå –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
                return;
            }
            
            showNotification(`üè¶ –ò–º–∏—Ç–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã $${total.toFixed(2)} —á–µ—Ä–µ–∑ T-Bank...`);
            
            setTimeout(() => {
                const receipt = generateBankReceipt();
                showReceipt(receipt);
            }, 2000);
        }

        function payWithCrypto() {
            if (total === 0) {
                showNotification("‚ùå –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
                return;
            }
            
            showNotification(`‚Çø –ò–º–∏—Ç–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã $${total.toFixed(2)} –≤ USDT Testnet...`);
            
            setTimeout(() => {
                const receipt = generateCryptoReceipt();
                showReceipt(receipt);
            }, 2000);
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–æ–≤
        function generateBankReceipt() {
            const paymentId = 'TB_' + Date.now();
            const rubAmount = (total * EXCHANGE_RATE).toFixed(2);
            
            return `
                <div style="line-height: 1.6;">
                    <strong style="color: #2E86AB;">üè¶ T-BANK DEMO –ß–ï–ö</strong>
                    <hr>
                    <strong>–ó–∞–∫–∞–∑:</strong><br>
                    ${cart.map(item => `‚Ä¢ ${item.name} - $${item.price}`).join('<br>')}
                    <br><br>
                    <strong>–ü–ª–∞—Ç–µ–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong><br>
                    ‚Ä¢ –°—É–º–º–∞: $${total.toFixed(2)} (${rubAmount} RUB)<br>
                    ‚Ä¢ ID –ø–ª–∞—Ç–µ–∂–∞: ${paymentId}<br>
                    ‚Ä¢ –ú–µ—Ç–æ–¥: T-Bank Sandbox<br>
                    ‚Ä¢ –°—Ç–∞—Ç—É—Å: <span style="color: green;">‚úÖ –û–ü–õ–ê–ß–ï–ù–û</span>
                    <br><br>
                    <em style="color: #666;">–î–µ–º–æ-—Ä–µ–∂–∏–º: —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è</em>
                </div>
            `;
        }

        function generateCryptoReceipt() {
            const txHash = '0x' + Math.random().toString(16).substr(2, 64);
            const usdtAmount = (total * 0.99).toFixed(6); // -1% –∫–æ–º–∏—Å—Å–∏—è
            const blockNumber = Math.floor(50000000 + Math.random() * 1000000);
            
            return `
                <div style="line-height: 1.6;">
                    <strong style="color: #FFD166;">‚Çø CRYPTO PAYMENT –ß–ï–ö</strong>
                    <hr>
                    <strong>–ó–∞–∫–∞–∑:</strong><br>
                    ${cart.map(item => `‚Ä¢ ${item.name} - $${item.price}`).join('<br>')}
                    <br><br>
                    <strong>–ë–ª–æ–∫—á–µ–π–Ω –¥–∞–Ω–Ω—ã–µ:</strong><br>
                    ‚Ä¢ –°—É–º–º–∞: ${usdtAmount} USDT<br>
                    ‚Ä¢ –ö–æ–º–∏—Å—Å–∏—è: 1%<br>
                    ‚Ä¢ –°–µ—Ç—å: TRC20 Testnet<br>
                    ‚Ä¢ TX Hash: ${txHash}<br>
                    ‚Ä¢ –ë–ª–æ–∫: #${blockNumber}<br>
                    ‚Ä¢ –°—Ç–∞—Ç—É—Å: <span style="color: green;">‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û</span>
                    <br><br>
                    <em style="color: #666;">Testnet: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏</em>
                </div>
            `;
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function showReceipt(receipt) {
            document.getElementById('receipt-content').innerHTML = receipt;
            document.getElementById('receipt').classList.remove('hidden');
            
            showNotification("üéâ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –ß–µ–∫ —Å–æ–∑–¥–∞–Ω.");
            
            // –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
            setTimeout(() => {
                cart = [];
                total = 0;
                updateCart();
            }, 3000);
        }

        function showNotification(message) {
            if (tg && tg.showPopup) {
                tg.showPopup({
                    title: "CryptoBurger",
                    message: message
                });
            } else {
                alert(message); // Fallback –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            if (tg) {
                tg.ready();
                tg.expand();
            }
            updateCart();
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
        function simulateTelegram() {
            window.Telegram = {
                WebApp: {
                    ready: function() { console.log("TG WebApp ready") },
                    expand: function() { console.log("TG WebApp expanded") },
                    showPopup: function(popup) { alert(popup.title + ": " + popup.message) }
                }
            };
            tg = window.Telegram.WebApp;
            tg.ready();
            tg.expand();
        }

        // –ï—Å–ª–∏ –Ω–µ –≤ Telegram - —Å–∏–º—É–ª–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
        if (!window.Telegram) {
            simulateTelegram();
        }
    </script>
</body>
</html>
